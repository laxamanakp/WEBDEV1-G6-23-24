<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="item-list">
        <!-- Display list of items with "Add" buttons -->
        <div class="item">
            <span>Item 1 - $10</span>
            <button onclick="addToCart('Item 1', 10)">Add</button>
        </div>
        <div class="item">
            <span>Item 2 - $20</span>
            <button onclick="addToCart('Item 2', 20)">Add</button>
        </div>
        <!-- Add more items here -->
    </div>

    <!-- Cart popup -->
    <div id="cart-popup" class="popup">
        <div id="cart-items">
            <!-- Cart items will be displayed here -->
        </div>
        <div id="total">Total: $0</div>
        <button onclick="checkout()">Checkout</button>
    </div>

    <script src="script.js"></script>
</body>
</html>


let cart = [];

function addToCart(itemName, price) {
    // Add item to cart array
    cart.push({ name: itemName, price: price });

    // Update cart UI
    updateCartUI();
}

function removeFromCart(index) {
    // Remove item from cart array
    cart.splice(index, 1);

    // Update cart UI
    updateCartUI();
}

function updateCartUI() {
    // Clear cart items
    document.getElementById('cart-items').innerHTML = '';

    // Update cart items
    let total = 0;
    cart.forEach((item, index) => {
        total += item.price;
        document.getElementById('cart-items').innerHTML += `
            <div>${item.name} - $${item.price}
                <button onclick="removeFromCart(${index})">Remove</button>
            </div>
        `;
    });

    // Update total
    document.getElementById('total').innerText = Total: $${total};

    // Show cart popup
    document.getElementById('cart-popup').style.display = 'block';
}

function checkout() {
    // Send cart data to PHP script
    const xhr = new XMLHttpRequest();
    xhr.open('POST', 'checkout.php', true);
    xhr.setRequestHeader('Content-Type', 'application/json');
    xhr.onload = function() {
        if (xhr.status === 200) {
            alert(xhr.responseText);
        } else {
            alert('Error: ' + xhr.statusText);
        }
    };
    xhr.send(JSON.stringify(cart));

    // Hide cart popup after checkout
    document.getElementById('cart-popup').style.display = 'none';
}



<?php
// Receive cart items from JavaScript
$cart = json_decode(file_get_contents('php://input'), true);

// Sanitize input and insert into database (using MySQLi for example)
$servername = "localhost";
$username = "your_username";
$password = "your_password";
$dbname = "your_database";

$conn = new mysqli($servername, $username, $password, $dbname);

if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
}

// Iterate through cart items and insert into database
foreach ($cart as $item) {
    // Sanitize input to prevent SQL injection (recommended)
    $safeItemName = $conn->real_escape_string($item['name']);
    $safePrice = $conn->real_escape_string($item['price']);

    // Insert the item into the database
    $sql = "INSERT INTO your_table (item_name, price) VALUES ('$safeItemName', '$safePrice')";
    if ($conn->query($sql) !== TRUE) {
        echo "Error inserting item: " . $conn->error;
    }
}

$conn->close();
?>


